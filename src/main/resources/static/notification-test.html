<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>웹소켓 알림 테스트</title>
    <style>
        #messageList {
            list-style: none;
            padding: 0;
        }

        #messageList li {
            margin: 0.5rem 0;
            padding: 0.5rem;
            border: 1px solid #ddd;
            border-radius: 5px;
        }
    </style>
</head>
<body>
<h1>실시간 알림 메시지 수신 테스트</h1>
<div id="notification"></div>
<script>
    const userId = 1;
    const socket = new WebSocket("ws://localhost:8080/ws/notifications?userId=" + userId);

    socket.onopen = function () {
        console.log("✅ 웹소켓 연결 성공");
    };

    socket.onmessage = function (event) {
        console.log("📩 서버로부터 메시지 수신:", event.data);

        // 메시지를 화면에 표시
        const notificationBox = document.getElementById("notification");
        const newMessage = document.createElement("div");
        newMessage.textContent = event.data;
        notificationBox.appendChild(newMessage);
    };

    socket.onclose = function () {
        console.log("🔌 연결 종료");
    };
</script>
</body>
</html>